<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jiro Amato">
<meta name="dcterms.date" content="2026-01-17">

<title>Why the Most Advertised Hair Loss Treatment Isn’t Always the Best – Jiro's World</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jiro’s World</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-pharmacy-aisle-problem" id="toc-the-pharmacy-aisle-problem" class="nav-link active" data-scroll-target="#the-pharmacy-aisle-problem">The Pharmacy Aisle Problem</a></li>
  <li><a href="#the-limitation-of-traditional-studies" id="toc-the-limitation-of-traditional-studies" class="nav-link" data-scroll-target="#the-limitation-of-traditional-studies">The Limitation of Traditional Studies</a></li>
  <li><a href="#what-is-network-meta-analysis" id="toc-what-is-network-meta-analysis" class="nav-link" data-scroll-target="#what-is-network-meta-analysis">What is Network Meta-Analysis?</a></li>
  <li><a href="#case-study-which-hair-loss-treatment-actually-works-best" id="toc-case-study-which-hair-loss-treatment-actually-works-best" class="nav-link" data-scroll-target="#case-study-which-hair-loss-treatment-actually-works-best">Case Study: Which Hair Loss Treatment Actually Works Best?</a></li>
  <li><a href="#why-should-data-scientists-care" id="toc-why-should-data-scientists-care" class="nav-link" data-scroll-target="#why-should-data-scientists-care">Why Should Data Scientists Care?</a></li>
  <li><a href="#limitations-to-keep-in-mind" id="toc-limitations-to-keep-in-mind" class="nav-link" data-scroll-target="#limitations-to-keep-in-mind">Limitations to Keep in Mind</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Why the Most Advertised Hair Loss Treatment Isn’t Always the Best</h1>
<p class="subtitle lead">A Data Science Approach to Comparing Treatments with Network Meta-Analysis</p>
  <div class="quarto-categories">
    <div class="quarto-category">data science</div>
    <div class="quarto-category">statistics</div>
    <div class="quarto-category">network meta-analysis</div>
    <div class="quarto-category">health</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jiro Amato </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 17, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="the-pharmacy-aisle-problem" class="level2">
<h2 class="anchored" data-anchor-id="the-pharmacy-aisle-problem">The Pharmacy Aisle Problem</h2>
<p>You are standing in a pharmacy, staring at a shelf full of hair loss treatments. Each product claims to be “clinically proven” and “most effective solution.” A barber suggested one product, a friend of yours swears by another and the Internet has thousand of conflicting opinions. So how do you actually know which one is the best?</p>
<p>This is not just a problem of hair loss. No matter whether you are choosing medicine, a software or a learning strategy, we face the situation where there are many options, each of them is proved with some evidence and the results are never compared with each other.</p>
<p>Traditional clinical trials are comparing one treatment with a placebo and comparing two treatments. What happens if there are 9 treatments and there are only few experiments. This is where <strong>Network Meta-Analysis (NMA)</strong> comes in - statistical methods of comparisons of many treatments at the same time, even if it has never been compared with each other before.</p>
</section>
<section id="the-limitation-of-traditional-studies" class="level2">
<h2 class="anchored" data-anchor-id="the-limitation-of-traditional-studies">The Limitation of Traditional Studies</h2>
<p>The randomized controlled trial is the gold-standard of evidence in clinical research. It’s a simple design: take a group of patients, give half of them the treatment and the other half a placebo, then compare the outcomes. The problem is this: suppose <em>Study A</em> shows that <em>Treatment X</em> beats the placebo by increasing hair density by 20 hairs per square centimeter and <em>Study B</em> shows <em>Treatment Y</em> beats the placebo by increasing density by 15 hairs per square centimeter. Can we conclude that <em>Treatment X</em> is better than <em>Treatment Y</em>? Not quite. These two studies may have been conducted on different populations, at different times and using different measurement techniques. For example, the patients in <em>Study A</em> might have been younger or had more severe hair loss to begin with. To directly compare results across studies would be to compare apples and oranges.</p>
<p>There is a real world problem here for both consumers and healthcare providers. When faced with multiple treatment options, each supported by a separate study (or studies) against the placebo, which one should you go with? How do you rank them? How do you make an informed choice?</p>
</section>
<section id="what-is-network-meta-analysis" class="level2">
<h2 class="anchored" data-anchor-id="what-is-network-meta-analysis">What is Network Meta-Analysis?</h2>
<p>Network Meta-Analysis solves this problem by creating a connected “network” of evidence. Instead of treating each study in isolation, NMA links studies together through their common comparators which is usually placebo.</p>
<p>Think of it like comparing athletes who never competed directly. If <em>Runner A</em> beats <em>Runner C</em> by 5 seconds, and <em>Runner B</em> beats <em>Runner C</em> by 3 seconds, we can reasonably infer that <em>Runner B</em> is probably faster than <em>Runner A</em> by about 2 seconds. The common reference point (<em>Runner C</em>) allows us to make indirect comparisons.</p>
<p>In NMA, we work with three types of evidence:</p>
<ol type="1">
<li><strong>Direct evidence</strong>: Head-to-head trials where treatments were compared directly</li>
<li><strong>Indirect evidence</strong>: Comparisons made through a common comparator (like placebo)</li>
<li><strong>Mixed evidence</strong>: The combination of both direct and indirect evidence</li>
</ol>
<p>The magic of NMA is that it synthesizes all available evidence into a coherent framework. Even if Treatment X and Treatment Y were never tested against each other, we can estimate their relative effectiveness through their shared connections to other treatments in the network.</p>
<div id="cell-fig-network" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> networkx <span class="im">as</span> nx</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a network graph</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>G <span class="op">=</span> nx.Graph()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add nodes (treatments) - based on Gupta et al. 2025</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>treatments <span class="op">=</span> [<span class="st">'Control'</span>, <span class="st">'Minoxidil 5%'</span>, <span class="st">'Minoxidil 2%'</span>, <span class="st">'Melatonin'</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">'Rosemary'</span>, <span class="st">'Marine Complex'</span>, <span class="st">'Procyanidin'</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">'Saw Palmetto'</span>, <span class="st">'Ketoconazole'</span>, <span class="st">'Watercress'</span>]</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>G.add_nodes_from(treatments)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add edges (studies comparing treatments) - based on Figure 3</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>edges <span class="op">=</span> [</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Control'</span>, <span class="st">'Minoxidil 5%'</span>),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Control'</span>, <span class="st">'Minoxidil 2%'</span>),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Control'</span>, <span class="st">'Marine Complex'</span>),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Control'</span>, <span class="st">'Procyanidin'</span>),</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Control'</span>, <span class="st">'Watercress'</span>),</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Minoxidil 2%'</span>, <span class="st">'Minoxidil 5%'</span>),</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Minoxidil 2%'</span>, <span class="st">'Rosemary'</span>),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Minoxidil 2%'</span>, <span class="st">'Ketoconazole'</span>),</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Minoxidil 2%'</span>, <span class="st">'Melatonin'</span>),</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'Saw Palmetto'</span>, <span class="st">'Control'</span>)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>G.add_edges_from(edges)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw the network</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">5</span>))</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>pos <span class="op">=</span> nx.spring_layout(G, seed<span class="op">=</span><span class="dv">42</span>, k<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw nodes with different colors</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>node_colors <span class="op">=</span> [<span class="st">'lightgray'</span> <span class="cf">if</span> n <span class="op">==</span> <span class="st">'Control'</span> <span class="cf">else</span> <span class="st">'skyblue'</span> <span class="cf">for</span> n <span class="kw">in</span> G.nodes()]</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>nx.draw_networkx_nodes(G, pos, node_color<span class="op">=</span>node_colors, node_size<span class="op">=</span><span class="dv">1500</span>, alpha<span class="op">=</span><span class="fl">0.9</span>)</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>nx.draw_networkx_labels(G, pos, font_size<span class="op">=</span><span class="dv">7</span>, font_weight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>nx.draw_networkx_edges(G, pos, width<span class="op">=</span><span class="dv">2</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, edge_color<span class="op">=</span><span class="st">'gray'</span>)</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Network of Treatment Comparisons'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">'off'</span>)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-network" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-network-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="662" height="469">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-network-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: A simplified network diagram showing how treatments connect through common comparators. Each node represents a treatment, and each edge represents studies comparing those treatments.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Most modern NMA studies use a <strong>Bayesian statistical framework</strong>. Without diving too deep into the mathematics, this approach allows researchers to make probability statements like “there is a 95% probability that Treatment X is the most effective option.” This is incredibly useful for decision-making because it directly answers the question we care about: which treatment should I choose?</p>
</section>
<section id="case-study-which-hair-loss-treatment-actually-works-best" class="level2">
<h2 class="anchored" data-anchor-id="case-study-which-hair-loss-treatment-actually-works-best">Case Study: Which Hair Loss Treatment Actually Works Best?</h2>
<p>In August 2025, Gupta and colleagues published a landmark study in the <em>International Journal of Molecular Sciences</em> that applied NMA to answer a question millions of people have asked: among all the over-the-counter hair loss treatments available, which one actually works best?</p>
<p>A systematic review was conducted by gathering data from multiple clinical trials that lasted for 24 weeks and evaluated changes in hair density. Nine active treatments were identified, including minoxidil and its various concentrations and several non-conventional treatments that gained popularity within the last few years.</p>
<p>Here’s where NMA shines. Instead of simply listing what each individual study found, the researchers connected all the evidence through common comparators. This allowed them to rank all nine treatments simultaneously, even though most had never been tested head-to-head.</p>
<p>The result? <strong>Minoxidil 5% applied twice daily emerged as the most effective over-the-counter treatment for male androgenetic alopecia.</strong></p>
<div id="cell-fig-ranking" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Actual SUCRA values from Gupta et al. 2025 (Figure 4)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Treatment'</span>: [<span class="st">'Minoxidil 5%'</span>, <span class="st">'Melatonin'</span>, <span class="st">'Rosemary'</span>, <span class="st">'Marine Complex'</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Minoxidil 2%'</span>, <span class="st">'Procyanidin'</span>, <span class="st">'Watercress'</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Ketoconazole'</span>, <span class="st">'Saw Palmetto'</span>, <span class="st">'Control'</span>],</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'SUCRA'</span>: [<span class="fl">99.7</span>, <span class="fl">62.7</span>, <span class="fl">60.6</span>, <span class="fl">57.5</span>, <span class="fl">56.3</span>, <span class="fl">55.6</span>, <span class="fl">42.9</span>, <span class="fl">34.9</span>, <span class="fl">17.8</span>, <span class="fl">12.1</span>]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> alt.Chart(data).mark_bar().encode(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'SUCRA:Q'</span>, title<span class="op">=</span><span class="st">'SUCRA Value (%)'</span>, scale<span class="op">=</span>alt.Scale(domain<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">100</span>])),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'Treatment:N'</span>, sort<span class="op">=</span><span class="st">'-x'</span>, title<span class="op">=</span><span class="va">None</span>),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'SUCRA:Q'</span>, scale<span class="op">=</span>alt.Scale(scheme<span class="op">=</span><span class="st">'blues'</span>), legend<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Ranking of OTC Hair Loss Treatments (Gupta et al. 2025)'</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>chart</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div id="fig-ranking" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="2">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ranking-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">

<style>
  #altair-viz-61c06a99ae4342649a837a291e4c900a.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-61c06a99ae4342649a837a291e4c900a.vega-embed details,
  #altair-viz-61c06a99ae4342649a837a291e4c900a.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-61c06a99ae4342649a837a291e4c900a"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-61c06a99ae4342649a837a291e4c900a") {
      outputDiv = document.getElementById("altair-viz-61c06a99ae4342649a837a291e4c900a");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@6?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@6.1.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@7?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "6")
        .then(() => maybeLoadScript("vega-lite", "6.1.0"))
        .then(() => maybeLoadScript("vega-embed", "7"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-27d169bae0f3b9e9087a8c6ceb74277e"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "SUCRA", "legend": null, "scale": {"scheme": "blues"}, "type": "quantitative"}, "x": {"field": "SUCRA", "scale": {"domain": [0, 100]}, "title": "SUCRA Value (%)", "type": "quantitative"}, "y": {"field": "Treatment", "sort": "-x", "title": null, "type": "nominal"}}, "height": 300, "title": "Ranking of OTC Hair Loss Treatments (Gupta et al. 2025)", "width": 400, "$schema": "https://vega.github.io/schema/vega-lite/v6.1.0.json", "datasets": {"data-27d169bae0f3b9e9087a8c6ceb74277e": [{"Treatment": "Minoxidil 5%", "SUCRA": 99.7}, {"Treatment": "Melatonin", "SUCRA": 62.7}, {"Treatment": "Rosemary", "SUCRA": 60.6}, {"Treatment": "Marine Complex", "SUCRA": 57.5}, {"Treatment": "Minoxidil 2%", "SUCRA": 56.3}, {"Treatment": "Procyanidin", "SUCRA": 55.6}, {"Treatment": "Watercress", "SUCRA": 42.9}, {"Treatment": "Ketoconazole", "SUCRA": 34.9}, {"Treatment": "Saw Palmetto", "SUCRA": 17.8}, {"Treatment": "Control", "SUCRA": 12.1}]}}, {"mode": "vega-lite"});
</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ranking-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Ranking of OTC hair loss treatments based on SUCRA values from Gupta et al.&nbsp;2025. Minoxidil 5% shows the highest effectiveness.
</figcaption>
</figure>
</div>
</div>
<p>We can draw several conclusions from this study that could have a real world impact on treatment. We see a lot of products on the pharmacy shelf making big claims and this analysis helps cut through the noise. Across all the different alternatives with different marketing budgets, the one that consistently comes out as the best performing treatment is minoxidil 5% applied twice daily.</p>
<p>For someone like John, a 25-year-old professional who has been researching hair loss treatments and feeling overwhelmed by conflicting information, this kind of revelation is invaluable. Instead of relying on anecdotes or advertisements, he can base his decision on a rigorous analysis of all available evidence.</p>
</section>
<section id="why-should-data-scientists-care" class="level2">
<h2 class="anchored" data-anchor-id="why-should-data-scientists-care">Why Should Data Scientists Care?</h2>
<p>The core methodology underlying network meta-analysis, has far-reaching implications wherever comparisons between several possible courses of action have to be made based on incomplete data.</p>
<p>In machine learning research, <em>Algorithm A</em> might be benchmarked on <em>ImageNet</em> in one study and beats a standard algorithm, while <em>Algorithm B</em> is shown to beat the same standard algorithm on CIFAR-10 in another study. What can be said about the relative merits of these algorithms? Applying the ideas behind network meta-analysis, we should be able to rank these algorithms, by comparing performance on these different benchmarks where there are common baselines.</p>
<p>Similarly, with policy evaluation: if we know that <em>Policy X</em> in <em>Country A</em> and <em>Policy Y</em> in <em>Country B</em>, had some effect on unemployment there - how does one compare them? Network methods offer a way to synthesise this kind of evidence, even when studies were conducted in rather different settings. This could lead to better decision-making with respect to which policies should be taken up where.</p>
<p>For data scientists, understanding NMA reinforces several important principles:</p>
<ul>
<li><strong>Evidence synthesis</strong>: Combining information from multiple sources is often more powerful than any single study</li>
<li><strong>Dealing with missing data</strong>: Real-world data rarely has complete head-to-head comparisons</li>
<li><strong>Uncertainty quantification</strong>: Bayesian methods give us probability statements, not just point estimates</li>
</ul>
</section>
<section id="limitations-to-keep-in-mind" class="level2">
<h2 class="anchored" data-anchor-id="limitations-to-keep-in-mind">Limitations to Keep in Mind</h2>
<p>Like any statistical method, network meta-analysis comes with assumptions and limitations.</p>
<p>The most critical assumption is <strong>transitivity</strong>: the indirect comparisons are only valid if the studies are similar enough in terms of patient populations, treatment protocols, and outcome measures. If the studies in your network are fundamentally different, the indirect comparisons become unreliable.</p>
<p><strong>Heterogeneity</strong> is another concern. Even when studies appear similar, there may be underlying differences that affect results. Good NMA studies explicitly test for and report heterogeneity.</p>
<p>Finally, <strong>publication bias</strong> can distort the network. Studies with positive results are more likely to be published, meaning the network may be missing evidence from failed trials.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Network meta-analysis transforms fragmented evidence into actionable insights. Instead of sifting through dozens of individual studies, each with its own limitations, NMA provides a systematic framework for ranking multiple options simultaneously.</p>
<p>The hair loss case study illustrates this beautifully. Faced with a pharmacy shelf of competing products, each claiming superiority, the network meta-analysis delivers a clear answer: Minoxidil 5% applied twice daily is the most effective OTC option, backed by synthesized evidence from multiple trials.</p>
<p>For data science students and practitioners, NMA represents an important tool in the evidence synthesis toolkit. The next time you face a decision with multiple options and conflicting claims, ask yourself: has anyone done a network meta-analysis on this? If not, maybe you should be the one to do it.</p>
<p>Data literacy is not just about analyzing datasets — it’s about making better decisions in everyday life. And sometimes, that means knowing which questions to ask and which methods can answer them.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Gupta, A. K., Talukder, M., Keene, S., Williams, G., &amp; Bamimore, M. A. (2025). Comparative Effect of Conventional and Non-Conventional Over-the-Counter Treatments for Male Androgenetic Alopecia: A Systematic Review and Network Meta-Analysis. <em>International Journal of Molecular Sciences</em>. PMID: 40869239.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>